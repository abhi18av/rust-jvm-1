<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `RuntimeConstantPool` struct in crate `rust_jvm`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, RuntimeConstantPool">

    <title>rust_jvm::vm::constant_pool::RuntimeConstantPool - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../../index.html'>rust_jvm</a>::<wbr><a href='../index.html'>vm</a>::<wbr><a href='index.html'>constant_pool</a></p><script>window.sidebarCurrent = {name: 'RuntimeConstantPool', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='../../index.html'>rust_jvm</a>::<wbr><a href='../index.html'>vm</a>::<wbr><a href='index.html'>constant_pool</a>::<wbr><a class='struct' href=''>RuntimeConstantPool</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-5848' class='srclink' href='../../../src/rust_jvm/src/vm/constant_pool.rs.html#56-58' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct RuntimeConstantPool {
    entries: <a class='struct' href='../../../rust_jvm/util/one_indexed_vec/struct.OneIndexedVec.html' title='rust_jvm::util::one_indexed_vec::OneIndexedVec'>OneIndexedVec</a>&lt;<a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='enum' href='../../../rust_jvm/vm/constant_pool/enum.RuntimeConstantPoolEntry.html' title='rust_jvm::vm::constant_pool::RuntimeConstantPoolEntry'>RuntimeConstantPoolEntry</a>&gt;&gt;,
}</pre><div class='docblock'><p>A runtime constant pool. This just consists of a <code>OneIndexedVec</code> of constant pool entries.</p>
</div><h2 class='fields'>Fields</h2>
<table><tr class='stab '>
                             <td id='structfield.entries'><code>entries</code></td><td></td></tr></table><h2 id='methods'>Methods</h2><h3 class='impl'><code>impl <a class='struct' href='../../../rust_jvm/vm/constant_pool/struct.RuntimeConstantPool.html' title='rust_jvm::vm::constant_pool::RuntimeConstantPool'>RuntimeConstantPool</a></code></h3><div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>(constant_pool: &amp;<a class='type' href='../../../rust_jvm/model/class_file/constant_pool/type.ConstantPool.html' title='rust_jvm::model::class_file::constant_pool::ConstantPool'>ConstantPool</a>) -&gt; Self</code></h4>
<div class='docblock'><p>Creates a new runtime constant pool from the <code>ConstantPool</code> returned by the class file
parser. Most of this process involves constructing <code>sig</code> and <code>symref</code> structures
representing the symbolic references in the constant pool.</p>
</div><h4 id='method.force_class_ref' class='method'><code>fn <a href='#method.force_class_ref' class='fnname'>force_class_ref</a>(constant_pool: &amp;<a class='type' href='../../../rust_jvm/model/class_file/constant_pool/type.ConstantPool.html' title='rust_jvm::model::class_file::constant_pool::ConstantPool'>ConstantPool</a>, info: &amp;<a class='enum' href='../../../rust_jvm/model/class_file/constant_pool/enum.ConstantPoolInfo.html' title='rust_jvm::model::class_file::constant_pool::ConstantPoolInfo'>ConstantPoolInfo</a>) -&gt; <a class='struct' href='../../../rust_jvm/vm/symref/struct.Class.html' title='rust_jvm::vm::symref::Class'>Class</a></code></h4>
<div class='docblock'><p>Constructs a <code>symref::Class</code> from a <code>ConstantPoolInfo::Class</code>, panicking if <code>info</code> is of a
different variant of <code>ConstantPoolInfo</code>.</p>

<p>This should only be called where the specification requires that <code>info</code> be of the correct
variant.</p>
</div><h4 id='method.force_name_and_type' class='method'><code>fn <a href='#method.force_name_and_type' class='fnname'>force_name_and_type</a>(constant_pool: &amp;<a class='type' href='../../../rust_jvm/model/class_file/constant_pool/type.ConstantPool.html' title='rust_jvm::model::class_file::constant_pool::ConstantPool'>ConstantPool</a>, info: &amp;<a class='enum' href='../../../rust_jvm/model/class_file/constant_pool/enum.ConstantPoolInfo.html' title='rust_jvm::model::class_file::constant_pool::ConstantPoolInfo'>ConstantPoolInfo</a>) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>(</a><a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>)</a></code></h4>
<div class='docblock'><p>Constructs a tuple of name and descriptor (type) strings from a
<code>ConstantPoolInfo::NameAndType</code>, panicking if <code>info</code> is of a different variant of
<code>ConstantPoolInfo</code>. The names of classes are binary names (§4.2.1) while the names of
fields and methods are unqualified names (§4.2.2). Descriptor formats vary depending on the
type of descriptor being referenced (§4.3).</p>

<p>This should only be called where the specification requires that <code>info</code> be of the correct
variant.</p>
</div><h4 id='method.force_string' class='method'><code>fn <a href='#method.force_string' class='fnname'>force_string</a>(info: &amp;<a class='enum' href='../../../rust_jvm/model/class_file/constant_pool/enum.ConstantPoolInfo.html' title='rust_jvm::model::class_file::constant_pool::ConstantPoolInfo'>ConstantPoolInfo</a>) -&gt; <a class='struct' href='../../../rust_jvm/vm/constant_pool/struct.ModifiedUtf8String.html' title='rust_jvm::vm::constant_pool::ModifiedUtf8String'>ModifiedUtf8String</a></code></h4>
<div class='docblock'><p>Constructs a <code>ModifiedUtf8String</code> from a <code>ConstantPoolInfo::Utf8</code>, panicking in <code>info</code> is
of a different variant of <code>ConstantPoolInfo</code>.</p>

<p>This should only be called where the specification requires that <code>info</code> be of the correct
variant.</p>
</div><h4 id='method.lookup_raw_string' class='method'><code>fn <a href='#method.lookup_raw_string' class='fnname'>lookup_raw_string</a>(&amp;self, index: <a class='type' href='../../../rust_jvm/model/class_file/constant_pool/type.constant_pool_index.html' title='rust_jvm::model::class_file::constant_pool::constant_pool_index'>constant_pool_index</a>) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a></code></h4>
<div class='docblock'><p>Returns the <code>String</code> at the runtime constant pool entry at <code>index</code>, panicking if that entry
is not a <code>RuntimeConstantPoolEntry::StringValue</code>. This is used during class creation,
because the structures describing fields and methods later in the class file (after the
constant pool) use constant pool indices to refer to their names.</p>
</div><h4 id='method.resolve_literal' class='method'><code>fn <a href='#method.resolve_literal' class='fnname'>resolve_literal</a>(&amp;self, index: <a class='type' href='../../../rust_jvm/model/class_file/constant_pool/type.constant_pool_index.html' title='rust_jvm::model::class_file::constant_pool::constant_pool_index'>constant_pool_index</a>, class_loader: &amp;mut <a class='struct' href='../../../rust_jvm/vm/class_loader/struct.ClassLoader.html' title='rust_jvm::vm::class_loader::ClassLoader'>ClassLoader</a>) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;<a class='enum' href='../../../rust_jvm/vm/value/enum.Value.html' title='rust_jvm::vm::value::Value'>Value</a>, <a class='enum' href='../../../rust_jvm/vm/class_loader/enum.Error.html' title='rust_jvm::vm::class_loader::Error'>Error</a>&gt;</code></h4>
<div class='docblock'><p>Resolves a literal value in the constant pool into a <code>Value</code>. For <code>String</code> literals, this
requires instantiating an instance of the <code>String</code> class, which we do by calling the
<code>String(char[])</code> constructor using the content of the modified UTF-8 string in the constant
pool, parsed into UTF-16.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html' title='core::ops::Index'>Index</a>&lt;<a class='type' href='../../../rust_jvm/model/class_file/constant_pool/type.constant_pool_index.html' title='rust_jvm::model::class_file::constant_pool::constant_pool_index'>constant_pool_index</a>&gt; for <a class='struct' href='../../../rust_jvm/vm/constant_pool/struct.RuntimeConstantPool.html' title='rust_jvm::vm::constant_pool::RuntimeConstantPool'>RuntimeConstantPool</a></code></h3><div class='impl-items'><h4 id='associatedtype.Output' class='type'><code>type <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html#associatedtype.Output' class='type'>Output</a> = <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='enum' href='../../../rust_jvm/vm/constant_pool/enum.RuntimeConstantPoolEntry.html' title='rust_jvm::vm::constant_pool::RuntimeConstantPoolEntry'>RuntimeConstantPoolEntry</a>&gt;</code></h4>
<h4 id='method.index' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html#tymethod.index' class='fnname'>index</a>(&amp;self, index: <a class='type' href='../../../rust_jvm/model/class_file/constant_pool/type.constant_pool_index.html' title='rust_jvm::model::class_file::constant_pool::constant_pool_index'>constant_pool_index</a>) -&gt; &amp;Self::<a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html' title='core::ops::Index'>Output</a></code></h4>
</div><h3 id='derived_implementations'>Derived Implementations </h3><h3 class='impl'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html' title='core::fmt::Debug'>Debug</a> for <a class='struct' href='../../../rust_jvm/vm/constant_pool/struct.RuntimeConstantPool.html' title='rust_jvm::vm::constant_pool::RuntimeConstantPool'>RuntimeConstantPool</a></code></h3><div class='impl-items'><h4 id='method.fmt' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class='struct' href='https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html' title='core::fmt::Formatter'>Formatter</a>) -&gt; <a class='type' href='https://doc.rust-lang.org/nightly/core/fmt/type.Result.html' title='core::fmt::Result'>Result</a></code></h4>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../../";
        window.currentCrate = "rust_jvm";
        window.playgroundUrl = "";
    </script>
    <script src="../../../jquery.js"></script>
    <script src="../../../main.js"></script>
    
    <script defer src="../../../search-index.js"></script>
</body>
</html>